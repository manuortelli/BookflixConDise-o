{"ast":null,"code":"var _jsxFileName = \"/home/manuel/bookflixdise\\xF1o/BookflixConDisenio/front-end/src/components/Home.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport HomeAdmin from './VistaAdmin/HomeAdmin';\nimport HomePerfiles from './HomePerfiles';\nimport HomeSuscriptor from './VistaSuscriptor/HomeSuscriptor';\nimport axios from 'axios';\nimport VisualizacionInicial from './VisualizacionInicial';\nimport Login from './IniciarSesion';\nconst soyAdminApi = 'http://localhost:4000/api/suscriptores/soyAdmin';\nexport default class Home extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: '',\n      token: sessionStorage.getItem('token'),\n      soyAdmin: sessionStorage.getItem('soyAdmin')\n    }; //this.setSoyAdmin = this.setSoyAdmin.bind(this)\n  }\n\n  componentDidMount() {\n    //this.setSoyAdmin();\n    console.log(this.state.soyAdmin);\n  }\n\n  async setSoyAdmin() {\n    await axios.get(soyAdminApi, {\n      headers: {\n        'xaccess': this.state.token\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        soyAdmin: res.data\n      });\n    });\n  }\n\n  render() {\n    const admin = sessionStorage.getItem('soyAdmin');\n    return this.state.token === '' || null ? /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 18\n      }\n    }) : this.state.soyAdmin === \"false\" ? /*#__PURE__*/React.createElement(HomePerfiles, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(HomeAdmin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 24\n      }\n    });\n  }\n\n} //<Navegacion/>","map":{"version":3,"sources":["/home/manuel/bookflixdiseÃ±o/BookflixConDisenio/front-end/src/components/Home.js"],"names":["React","Component","Redirect","HomeAdmin","HomePerfiles","HomeSuscriptor","axios","VisualizacionInicial","Login","soyAdminApi","Home","constructor","state","user","token","sessionStorage","getItem","soyAdmin","componentDidMount","console","log","setSoyAdmin","get","headers","then","res","data","setState","render","admin"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAwB,kBAAxB;AAEA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AAEA,MAAMC,WAAW,GAAG,iDAApB;AAEA,eAAe,MAAMC,IAAN,SAAmBT,SAAnB,CAA6B;AAExCU,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,IAAI,EAAE,EADC;AAEPC,MAAAA,KAAK,EAAEC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAFA;AAGPC,MAAAA,QAAQ,EAAEF,cAAc,CAACC,OAAf,CAAuB,UAAvB;AAHH,KAAX,CAFS,CAOT;AAEH;;AACDE,EAAAA,iBAAiB,GAAE;AACf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWK,QAAvB;AACH;;AAED,QAAMI,WAAN,GAAoB;AAChB,UAAMf,KAAK,CAACgB,GAAN,CAAWb,WAAX,EAEF;AAACc,MAAAA,OAAO,EAAC;AAAC,mBAAU,KAAKX,KAAL,CAAWE;AAAtB;AAAT,KAFE,EAGHU,IAHG,CAGEC,GAAG,IAAG;AACVN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACC,IAAhB;AACA,WAAKC,QAAL,CAAc;AACVV,QAAAA,QAAQ,EAAGQ,GAAG,CAACC;AADL,OAAd;AAGH,KARK,CAAN;AASH;;AAIDE,EAAAA,MAAM,GAAG;AACL,UAAMC,KAAK,GAACd,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAZ;AACA,WACK,KAAKJ,KAAL,CAAWE,KAAX,KAAqB,EAArB,IAA2B,IAA5B,gBAEK,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFL,GAIM,KAAKF,KAAL,CAAWK,QAAX,KAAwB,OAAxB,gBAEI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,gBAIK,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATf;AAaH;;AA9CuC,C,CAgD5C","sourcesContent":["\nimport React, { Component } from 'react'\nimport { Redirect} from 'react-router-dom';\n\nimport HomeAdmin from './VistaAdmin/HomeAdmin';\nimport HomePerfiles from './HomePerfiles';\nimport HomeSuscriptor from './VistaSuscriptor/HomeSuscriptor';\nimport axios from 'axios';\nimport VisualizacionInicial from './VisualizacionInicial';\nimport Login from './IniciarSesion';\n\nconst soyAdminApi = 'http://localhost:4000/api/suscriptores/soyAdmin'\n\nexport default class Home extends Component {\n\n    constructor(){\n        super();\n        this.state={\n            user: '',\n            token: sessionStorage.getItem('token'),\n            soyAdmin: sessionStorage.getItem('soyAdmin')\n        };\n        //this.setSoyAdmin = this.setSoyAdmin.bind(this)\n       \n    }  \n    componentDidMount(){\n        //this.setSoyAdmin();\n        console.log(this.state.soyAdmin)\n    }\n\n    async setSoyAdmin() {\n        await axios.get( soyAdminApi ,\n            \n            {headers:{'xaccess':this.state.token}  \n        }).then(res =>{\n            console.log(res.data)\n            this.setState({\n                soyAdmin : res.data\n            });\n        })\n    };\n\n\n\n    render() {\n        const admin=sessionStorage.getItem('soyAdmin');\n        return (\n            (this.state.token === '' || null) \n            \n            ?    <Login/>\n\n            :    (this.state.soyAdmin === \"false\"\n\n                    ? <HomePerfiles></HomePerfiles>\n                    \n                     : <HomeAdmin></HomeAdmin> \n                    \n            )\n        )\n    }\n}\n//<Navegacion/>"]},"metadata":{},"sourceType":"module"}