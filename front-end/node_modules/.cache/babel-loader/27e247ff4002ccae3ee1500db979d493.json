{"ast":null,"code":"var _jsxFileName = \"/home/manuel/git/BookflixOficial/BookflixConDisenio/front-end/src/components/VistaSuscriptor/Libros/Buscador.js\";\nimport React, { Component } from 'react';\nimport axios from '../../../../node_modules/axios';\nimport propTypes from 'prop-types';\nimport { set } from 'mongoose';\nimport { Link } from 'react-router-dom';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\nimport ItemListLibro from './ItemListLibro';\nimport ItemLIbroConPortada from './ItemLIbroConPortada';\nconst portada = 'http://localhost:4000/uploads/';\nconst autores = 'http://localhost:4000/api/autores/';\nconst generos = 'http://localhost:4000/api/generos/';\nconst editoriales = 'http://localhost:4000/api/editoriales/';\nconst libros = 'http://localhost:4000/api/libros/';\nexport default class Buscador extends Component {\n  constructor(props) {\n    super(props);\n\n    this.filtrarFechas = libros => {\n      var hoy = new Date();\n      console.log('hoy es:' + hoy);\n      var res = [];\n      libros.map(lib => {\n        if (lib.lanzamiento != null) {\n          var lan = new Date(lib.lanzamiento);\n\n          if (lan < hoy) {\n            if (lib.expiracion != null) {\n              var ven = new Date(lib.expiracion);\n\n              if (ven > hoy) {\n                res.push(lib);\n              }\n            } else {\n              res.push(lib);\n            }\n          }\n        } else {\n          if (lib.capitulos != []) {\n            res.push(lib);\n          }\n        }\n      });\n      return res;\n    };\n\n    this.getData = async () => {\n      await axios.get(libros, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.setLibros(res.data);\n      }).catch();\n      await axios.get(autores, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.setAutores(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      await axios.get(generos, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.setGeneros(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      await axios.get(editoriales, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.setEditoriales(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.loPuedoAgregar = libro => {\n      console.log(libro);\n      var puedo = true;\n\n      if (this.state.buscador != '') {\n        var resultado = libro.titulo.toLowerCase().indexOf(this.state.buscador.toLowerCase());\n\n        if (resultado != -1) {\n          puedo = true;\n        } else {\n          return false;\n        }\n      }\n\n      if (this.state.autor != '') {\n        if (this.state.autor == libro.autor) {\n          puedo = true;\n        } else {\n          return false;\n        }\n      }\n\n      if (this.state.genero != '') {\n        if (this.state.genero == libro.genero) {\n          puedo = true;\n        } else {\n          return false;\n        }\n      }\n\n      if (this.state.editorial != '') {\n        if (this.state.editorial == libro.editorial) {\n          puedo = true;\n        } else {\n          return false;\n        }\n      }\n\n      return puedo;\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      console.log(this.state.buscador);\n      console.log(this.state.genero);\n      console.log(this.state.editorial);\n      console.log(this.state.autor);\n      console.log(this.state.libros);\n      var lib = [];\n      this.state.libros.map(libro => {\n        console.log('entra en el map');\n\n        if (this.loPuedoAgregar(libro)) {\n          lib.push(libro);\n          console.log('entra');\n          console.log(this.loPuedoAgregar(libro));\n        }\n      });\n      this.setState({\n        librosConFiltro: lib\n      });\n\n      if (lib.length === 0) {\n        alert('no existen libros que coincidan con los filtros puestos');\n      }\n\n      console.log(this.state.librosConFiltro);\n      this.setLibrosConFiltro(lib);\n    };\n\n    this.limpiar = e => {\n      var copia = this.state.autores;\n      this.setState({\n        librosConFiltro: this.state.libros,\n        autor: '',\n        buscador: '',\n        editorial: '',\n        genero: '',\n        borrar: true\n      });\n      console.log('se esta limpiando');\n      this.render();\n    };\n\n    this.state = {\n      token: sessionStorage.getItem('token'),\n      buscador: '',\n      autor: '',\n      genero: '',\n      editorial: '',\n      libros: [],\n      autores: [],\n      generos: [],\n      editoriales: [],\n      librosConFiltro: [],\n      LibrosCarrousel: [],\n      borrar: false\n    };\n    this.loPuedoAgregar = this.loPuedoAgregar.bind(this);\n  }\n\n  setAutores(res) {\n    this.setState({\n      autores: res\n    });\n  }\n\n  setGeneros(res) {\n    this.setState({\n      generos: res\n    });\n  }\n\n  setEditoriales(res) {\n    this.setState({\n      editoriales: res\n    });\n  }\n\n  setLibros(res) {\n    console.log('lista de libros');\n    var re = this.filtrarFechas(res);\n    console.log(re);\n    this.setState({\n      libros: re,\n      librosConFiltro: re\n    });\n    this.setLibrosConFiltro(re);\n  }\n\n  setLibrosConFiltro(res) {\n    var num = 2;\n    var aux = [];\n    var aux2 = [];\n    res.map(libro => {\n      if (aux.length < num) {\n        aux.push(libro);\n      } else {\n        aux.push(libro);\n        aux2.unshift(aux);\n        aux = [];\n      }\n\n      ;\n    });\n\n    if (aux != []) {\n      aux2.unshift(aux);\n    }\n\n    this.setState({\n      LibrosCarrousel: aux2\n    });\n  }\n\n  async componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    const settings = {\n      dots: true,\n      infinite: false,\n      speed: 500,\n      slidesToShow: 3,\n      slidesToScroll: 1,\n      className: 'slides'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 offset-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemBuscador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      id: \"exampleFormControlInput1\",\n      name: \"buscador\",\n      onChange: this.onInputChange,\n      value: this.state.buscador,\n      placeholder: \"Buscar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemBuscador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange,\n      id: \"exampleFormControlSelect1\",\n      name: \"autor\",\n      value: this.state.autor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 25\n      }\n    }, \"Autor/a\"), this.state.autores.map(autor => /*#__PURE__*/React.createElement(\"option\", {\n      key: autor._id,\n      value: autor._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 25\n      }\n    }, autor.nombre, \" \", autor.apellido)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemBuscador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      value: this.state.genero,\n      onChange: this.onInputChange,\n      id: \"exampleFormControlSelect1\",\n      name: \"genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 29\n      }\n    }, \"G\\xE9nero\"), this.state.generos.map(ge => /*#__PURE__*/React.createElement(\"option\", {\n      key: ge._id,\n      value: ge._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 33\n      }\n    }, ge.nombre)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemBuscador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      value: this.state.editorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 29\n      }\n    }, \"Editorial\"), this.state.editoriales.map(ed => /*#__PURE__*/React.createElement(\"option\", {\n      key: ed.id,\n      value: ed._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 29\n      }\n    }, ed.nombre)))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-light itemBoton  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      class: \"bi bi-search\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.limpiar,\n      className: \"btn btn-light itemBoton \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      class: \"bi bi-backspace\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M6.603 2h7.08a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-7.08a1 1 0 0 1-.76-.35L1 8l4.844-5.65A1 1 0 0 1 6.603 2zm7.08-1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1h7.08z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M5.83 5.146a.5.5 0 0 0 0 .708l5 5a.5.5 0 0 0 .707-.708l-5-5a.5.5 0 0 0-.708 0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M11.537 5.146a.5.5 0 0 1 0 .708l-5 5a.5.5 0 0 1-.708-.708l5-5a.5.5 0 0 1 .707 0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 25\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"carrusel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Slider, Object.assign({}, settings, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 23\n      }\n    }), this.state.librosConFiltro.map(libro => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-VerLibro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"imgBx\",\n      to: '/suscriptor/libros/' + libro._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: portada + libro.portada,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 42\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 46\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"titulo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 46\n      }\n    }, \" \", libro.titulo, \" \")))))))));\n  }\n\n}\n;","map":{"version":3,"sources":["/home/manuel/git/BookflixOficial/BookflixConDisenio/front-end/src/components/VistaSuscriptor/Libros/Buscador.js"],"names":["React","Component","axios","propTypes","set","Link","Slider","ItemListLibro","ItemLIbroConPortada","portada","autores","generos","editoriales","libros","Buscador","constructor","props","filtrarFechas","hoy","Date","console","log","res","map","lib","lanzamiento","lan","expiracion","ven","push","capitulos","getData","get","headers","state","token","then","setLibros","data","catch","setAutores","err","setGeneros","setEditoriales","onInputChange","e","setState","target","name","value","loPuedoAgregar","libro","puedo","buscador","resultado","titulo","toLowerCase","indexOf","autor","genero","editorial","onSubmit","preventDefault","librosConFiltro","length","alert","setLibrosConFiltro","limpiar","copia","borrar","render","sessionStorage","getItem","LibrosCarrousel","bind","re","num","aux","aux2","unshift","componentDidMount","settings","dots","infinite","speed","slidesToShow","slidesToScroll","className","_id","nombre","apellido","ge","ed","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from '../../../../node_modules/axios';\n\nimport propTypes   from 'prop-types';\nimport { set } from 'mongoose';\nimport { Link } from 'react-router-dom';\nimport \"slick-carousel/slick/slick.css\"; \nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\nimport ItemListLibro from './ItemListLibro';\nimport ItemLIbroConPortada from './ItemLIbroConPortada';\n\nconst portada = 'http://localhost:4000/uploads/';\nconst autores = 'http://localhost:4000/api/autores/';\nconst generos = 'http://localhost:4000/api/generos/';\nconst editoriales = 'http://localhost:4000/api/editoriales/';\nconst libros='http://localhost:4000/api/libros/';\n\nexport default class Buscador extends Component {\n\n\n    constructor(props){\n        super(props);\n        this.state={\n            token: sessionStorage.getItem('token'),\n            \n            buscador:'',\n            autor:'',\n            genero:'',\n            editorial:'',\n\n            libros:[],\n            autores:[],\n            generos:[],\n            editoriales:[],\n\n            librosConFiltro:[],\n            LibrosCarrousel:[],\n            borrar:false,\n            \n        }\n        this.loPuedoAgregar=this.loPuedoAgregar.bind(this);\n\n    }\n    setAutores(res){\n      \n        this.setState({\n            autores:res\n        });\n    }\n    setGeneros(res){\n        this.setState({\n            generos:res\n        });\n    }\n    \n    setEditoriales(res){   \n        this.setState({\n            editoriales:res\n        });\n       \n    }\n    \n\n    filtrarFechas=(libros)=>{\n        var hoy =new Date();\n        console.log('hoy es:'+ hoy );\n        var res=[];\n        libros.map( lib =>{\n            if(lib.lanzamiento != null ){\n                var lan= new Date(lib.lanzamiento);\n                if(lan< hoy){\n                    if(lib.expiracion != null){\n                        var ven= new Date(lib.expiracion);\n                        if(ven > hoy){\n                          res.push(lib);\n                        }\n                    }else{\n                        res.push(lib);\n                    }\n                 }\n            }else{\n                if(lib.capitulos != []){\n                    res.push(lib);\n                }\n\n\n            }\n           \n           \n\n        });\n        return res;\n\n\n    }\n\n\n\n    setLibros(res){\n        console.log('lista de libros');\n        var re =this.filtrarFechas(res);\n     \n        console.log(re);\n        this.setState({\n            libros:re,\n            librosConFiltro:re\n        });\n        this.setLibrosConFiltro(re);\n    }\n    setLibrosConFiltro(res){\n        var num =2;\n        var aux=[]; \n        var aux2=[];\n\n        res.map(libro=>{\n            if(aux.length< num){\n                aux.push(libro);\n            }else{\n                aux.push(libro);\n                aux2.unshift(aux);\n                aux=[] \n            };\n        })\n        if(aux!=[]){\n            aux2.unshift(aux);\n        }\n        this.setState({\n            \n            LibrosCarrousel:aux2,\n        });\n    }\n\n\n    getData = async () => {\n\n\n        await axios.get(libros,{\n           \n            headers:{'xaccess':this.state.token}  \n        })\n        .then(res =>{\n            this.setLibros(res.data)\n        })\n        .catch();\n\n        \n       \n        await axios.get(autores,{\n            \n            headers:{'xaccess':this.state.token}  \n        })\n        .then(res =>{\n            this.setAutores(res.data)\n        })\n        .catch(err =>{console.log(err)});\n\n        await axios.get(generos,{\n            \n            headers:{'xaccess':this.state.token}  \n        })\n        .then(res =>{\n            this.setGeneros(res.data)\n        })\n        .catch(err =>{console.log(err)});\n\n        await axios.get(editoriales,{\n            \n            headers:{'xaccess': this.state.token}  \n        })\n        .then(res =>{\n            this.setEditoriales(res.data)\n        })\n        .catch(err =>{console.log(err)});\n      \n    }\n\n    async componentDidMount(){\n        this.getData();\n      \n  \n    }\n\n    \n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n   \n    loPuedoAgregar=(libro)=>{\n        console.log(libro);\n        var puedo=true;\n\n        if(this.state.buscador!=''){\n\n           \n            var resultado = libro.titulo.toLowerCase().indexOf(this.state.buscador.toLowerCase());\n        \n            if(resultado != -1) {\n                puedo= true;\n            }else{\n                return false;\n            }\n        }\n\n\n        if(this.state.autor!=''){\n\n            if( this.state.autor == libro.autor ){\n               puedo= true;\n            }else{\n               \n                return false;\n            }\n        }\n\n        if(this.state.genero !=''){\n            if( this.state.genero == libro.genero ){\n               puedo= true;\n            }else{\n                \n                return false;\n            }\n        }\n        if(this.state.editorial !=''){\n            if( this.state.editorial == libro.editorial ){\n               puedo=true;\n            }else{\n               \n                return false;\n            }\n        }\n        return puedo;\n    }\n\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        console.log(this.state.buscador);\n        console.log(this.state.genero);\n        console.log(this.state.editorial);\n        console.log(this.state.autor);\n        console.log(this.state.libros);\n        var lib=[];\n        this.state.libros.map(libro => {\n            console.log('entra en el map');\n            if(this.loPuedoAgregar(libro)){\n                lib.push(libro);\n                console.log('entra');\n                console.log(this.loPuedoAgregar(libro));\n            }\n\n        });\n        \n        this.setState({\n            librosConFiltro:lib\n        });\n        if(lib.length === 0){\n            alert('no existen libros que coincidan con los filtros puestos')\n        }\n        console.log(this.state.librosConFiltro);\n\n\n        this.setLibrosConFiltro(lib);\n       \n    }\n   \n    limpiar=(e)=>{\n        var copia = this.state.autores;\n     \n        this.setState({\n            librosConFiltro:this.state.libros,\n            autor:'',\n            buscador:'',\n            editorial:'',\n            genero:'',\n           \n            borrar:true,\n\n           \n           \n          \n        });\n        \n       \n       \n        console.log('se esta limpiando');\n        this.render();\n       \n       \n\n\n    }\n  \n    render() {\n        const settings = {\n            dots: true,\n            infinite: false,\n            speed: 500,\n            slidesToShow: 3,\n            slidesToScroll: 1,\n            className: 'slides'\n\n        };\n\n        return (\n            <div> \n            <div className=\"col-md-8 offset-md-2\">\n                <form  onSubmit={this.onSubmit}>\n                    <div className=\"itemBuscador\">\n                        <input \n                            className=\"form-control\" \n                            id=\"exampleFormControlInput1\" \n                            name =\"buscador\"\n                            onChange={this.onInputChange}\n                            value={this.state.buscador}\n                            placeholder=\"Buscar\"\n                            >\n                        </input>\n                    </div>\n                    \n                    <div className=\"itemBuscador\">   \n                        <select className=\"form-control\"   \n                            onChange={this.onInputChange} \n                            id=\"exampleFormControlSelect1\" \n                            name=\"autor\"\n                            value={this.state.autor} \n                            >    \n                        <option value=\"\" selected>Autor/a</option>\n                        {this.state.autores.map(autor =>\n                        <option key={autor._id} value={autor._id} >{autor.nombre} {autor.apellido}</option>\n                                )}\n                        </select>\n                    </div>\n\n                    <div className=\"itemBuscador\">\n                    \n                            <select className=\"form-control\" value={this.state.genero}  onChange={this.onInputChange}  id=\"exampleFormControlSelect1\" name=\"genero\" >\n                            <option  value=\"\" >Género</option>\n                                {this.state.generos.map(ge =>\n                                <option key={ge._id} value={ge._id} >{ge.nombre}</option>\n                                )}\n                            </select>\n                    </div>\n\n                    <div className=\"itemBuscador\">\n                        \n                            <select className=\"form-control\"\n                            onChange={this.onInputChange} id=\"exampleFormControlSelect1\" \n                            name=\"editorial\" value={this.state.editorial} >\n                            <option  value=\"\" >Editorial</option>\n                            {this.state.editoriales.map(ed =>\n                            <option key={ed.id} value={ed._id} >{ed.nombre}</option>\n                            )}\n                            </select>\n                    </div>\n\n                    <button type =\"submit\" className=\"btn btn-light itemBoton  \"> \n                        <svg class=\"bi bi-search\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path fill-rule=\"evenodd\" d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\"/>\n                        <path fill-rule=\"evenodd\" d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\"/>\n                        </svg>\n                    </button>    \n                    <button onClick={this.limpiar} className=\"btn btn-light itemBoton \"> \n                    \n                        <svg class=\"bi bi-backspace\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path fill-rule=\"evenodd\" d=\"M6.603 2h7.08a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-7.08a1 1 0 0 1-.76-.35L1 8l4.844-5.65A1 1 0 0 1 6.603 2zm7.08-1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1h7.08z\"/>\n                        <path fill-rule=\"evenodd\" d=\"M5.83 5.146a.5.5 0 0 0 0 .708l5 5a.5.5 0 0 0 .707-.708l-5-5a.5.5 0 0 0-.708 0z\"/>\n                        <path fill-rule=\"evenodd\" d=\"M11.537 5.146a.5.5 0 0 1 0 .708l-5 5a.5.5 0 0 1-.708-.708l5-5a.5.5 0 0 1 .707 0z\"/>\n                        </svg>\n                    \n                     </button>         \n\n                </form>\n\n                </div>\n                              \n                                   \n                   <div className=\"carrusel\">\n                      <Slider {...settings} >\n\n                           {this.state.librosConFiltro.map(libro => \n                                 <div className=\"container-VerLibro\">\n                               \n                               \n                                 <div className=\"box\" >\n                                     <Link className=\"imgBx\"   to={'/suscriptor/libros/' +libro._id} >\n                                         <img src={portada + libro.portada} />\n                                     </Link>\n                                     <span className=\"content\">\n                                         <span >\n                                             <br></br>\n                                             <h2 className=\"titulo\"> {libro.titulo} </h2>\n                                            \n                                             \n                                         </span>\n                                     </span>\n                             \n                                 </div>\n                                 \n\n                         </div>\n                         \n                          )} \n\n                             \n                       \n                      </Slider>\n                  </div>\n\n                   \n\n                   \n                </div>               \n                \n                \n            \n        )\n    }\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}