{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\GitHub\\\\bookflix\\\\BookflixConDisenio\\\\front-end\\\\src\\\\components\\\\VistaSuscriptor\\\\NuevoPerfil.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom'; //Constante a la cual hacemos la consulta\n\nconst suscriptores = 'http://localhost:4000/api/suscriptores/me';\nconst cargar = 'http://localhost:4000/api/suscriptores/agregarPerfil';\nexport default class NuevoPerfil extends Component {\n  constructor() {\n    super();\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.getData = async () => {\n      await axios.get(suscriptores, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.setSusripcion(res.data);\n      }).catch(err => {\n        alert(err.response);\n      });\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('_id', this.state.miSuscripcion._id);\n      formData.append('vencimiento', this.state.nombre);\n      axios.post(cargar, formData, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        alert(JSON.stringify(res.data));\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"http://localhost:3000/suscriptor/suscripcion/perfiles\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }\n        });\n      }).catch(err => {\n        alert(JSON.stringify(err.data));\n      });\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('lanzamiento', this.state.lanzamiento);\n      formData.append('vencimiento', this.state.vencimiento);\n      formData.append('pdf', this.state.pdf);\n      axios.post(cargar, formData, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        alert(JSON.stringify(res.data));\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"http://localhost:3000/libros\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }\n        });\n      }).catch(err => {\n        alert(JSON.stringify(err.data));\n      });\n    };\n\n    this.state = {\n      token: sessionStorage.getItem('token'),\n      user: sessionStorage.getItem('user'),\n      nombre: '',\n      miSuscripcion: []\n    };\n    this.onInputChange = this.onInputChange.bind(this);\n  }\n\n  setSusripcion(res) {\n    this.setState({\n      miSuscripcion: res\n    });\n  }\n\n  async componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardVS col-md-6 offset-md-3 text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, \"Nombre del perfil\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      id: \"exampleFormControlTextarea1\",\n      rows: \"1\",\n      name: \"nombre\",\n      onChange: this.onInputChange,\n      value: this.state.nombre,\n      placeholder: \"Nombre del nuevo perfil\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn login_btn float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, \"Agregar Perfil\")));\n  }\n\n}","map":{"version":3,"sources":["D:/Documentos/GitHub/bookflix/BookflixConDisenio/front-end/src/components/VistaSuscriptor/NuevoPerfil.js"],"names":["React","Component","Link","axios","Redirect","suscriptores","cargar","NuevoPerfil","constructor","onInputChange","e","setState","target","name","value","getData","get","headers","state","token","then","res","setSusripcion","data","catch","err","alert","response","onSubmit","preventDefault","formData","FormData","append","miSuscripcion","_id","nombre","post","JSON","stringify","lanzamiento","vencimiento","pdf","sessionStorage","getItem","user","bind","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport {  Redirect } from 'react-router-dom';\n\n//Constante a la cual hacemos la consulta\nconst suscriptores = 'http://localhost:4000/api/suscriptores/me';\nconst cargar = 'http://localhost:4000/api/suscriptores/agregarPerfil';\n\nexport default class NuevoPerfil extends Component {\n    constructor() {\n        super();\n        this.state = {\n            token: sessionStorage.getItem('token'),\n            user: sessionStorage.getItem('user'),\n            nombre: '',\n            miSuscripcion: []\n\n        };\n        this.onInputChange=this.onInputChange.bind(this);\n\n    }\n\n    \n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n\n    setSusripcion(res){\n        this.setState({\n            miSuscripcion:res\n        });\n    }\n\n    getData = async () =>{\n        await axios.get(suscriptores,{\n            headers:{'xaccess':this.state.token}  \n        })\n        .then(res =>{\n            this.setSusripcion(res.data)\n        })\n        .catch(err =>{\n            alert(err.response)});\n\n    }\n    async componentDidMount(){\n\n        this.getData();\n    }\n\n\n    onSubmit = async (e) => {\n        e.preventDefault();\n \n        const formData = new FormData();\n        formData.append('_id', this.state.miSuscripcion._id);\n        formData.append('vencimiento', this.state.nombre);\n    \n        axios.post(cargar,formData,{\n                headers: { 'xaccess':this.state.token }\n            })\n            .then(res => {\n                alert(JSON.stringify(res.data));\n                return( <Redirect to=\"http://localhost:3000/suscriptor/suscripcion/perfiles\" />)\n            })\n    \n            .catch(err => {\n                alert(JSON.stringify(err.data))\n            } );\n    };\n\n\n    onSubmit = async (e) => {\n        e.preventDefault();\n \n        const formData = new FormData();\n        formData.append('lanzamiento', this.state.lanzamiento);\n        formData.append('vencimiento', this.state.vencimiento);\n        formData.append('pdf', this.state.pdf);\n    \n        axios.post(cargar,formData,{\n                headers: { 'xaccess':this.state.token }\n            })\n            .then(res => {\n                alert(JSON.stringify(res.data));\n                return( <Redirect to=\"http://localhost:3000/libros\" />)\n            })\n    \n            .catch(err => {\n                alert(JSON.stringify(err.data))\n            } );\n    };\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"cardVS col-md-6 offset-md-3 text-light bg-dark\" >\n                   \n                    <div className=\"card-body\">\n                        <div className=\"form-group\">\n                            <h5>Nombre del perfil</h5>\n                            <textarea className=\"form-control\"\n                                id=\"exampleFormControlTextarea1\"\n                                rows=\"1\"\n                                name=\"nombre\"\n                                onChange={this.onInputChange}\n                                value={this.state.nombre}\n                                placeholder=\"Nombre del nuevo perfil\"\n                                required >\n                            </textarea>\n                        </div>\n                    </div>\n                    <button type=\"submit\" className='btn login_btn float-right'>Agregar Perfil</button>\n                </div>\n\n\n            </div>\n\n\n\n\n\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}