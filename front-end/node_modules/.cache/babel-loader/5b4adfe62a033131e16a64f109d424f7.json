{"ast":null,"code":"var _jsxFileName = \"/home/manuel/bookflixdise\\xF1o/BookflixConDisenio/front-end/src/components/HomePerfiles.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ItemPerfil from './ItemPerfil';\nimport { Link } from 'react-router-dom'; //Poner constante a la cual le hacemos la consulta de nuestros pefiles como suscriptor\n\nconst perfilesApi = 'http://localhost:4000/api/suscriptores/loginPerfiles';\nconst miperfilApi = 'http://localhost:4000/api/perfiles/me';\nconst loginPerfilApi = 'http://localhost:4000/api/suscriptores/loginPerfil';\n\nclass ListarPerfiles extends Component {\n  constructor() {\n    super();\n    this.state = {\n      token: sessionStorage.getItem('token'),\n      perfiles: [],\n      perfilesNombre: []\n    };\n  }\n\n  async irAHomeDePerfil(event) {\n    event.preventDefault();\n    console.log(this.state.perfiles[0]);\n    await axios.post(loginPerfilApi, {\n      id: JSON.stringify.this.state.perfiles[0]\n    }, {\n      headers: {\n        'xaccess': sessionStorage.getItem('token')\n      }\n    }).then(res => {\n      console.log(res); //REDIRECT A HOME\n    });\n  }\n\n  async componentDidMount() {\n    await axios.get(perfilesApi, {\n      headers: {\n        'xaccess': sessionStorage.getItem('token')\n      }\n    }).then(res => {\n      res.data.map(info => {\n        {\n          this.state.perfiles.push(info.id);\n        }\n        {\n          this.state.perfilesNombre.push(info.nombre);\n        }\n      });\n    });\n    console.log(this.state.perfiles[0]);\n    console.log(this.state.perfilesNombre[0]);\n    console.log(this.state.perfilesNombre);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card col-md-6 offset-md-3 text-light bg-dark display-flex center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardIS\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.irAHomeDePerfil,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }, \"Perfiles>\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Login\",\n      className: \"btn float-right login_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 45\n      }\n    })))))))));\n  }\n\n}\n\nexport default ListarPerfiles;","map":{"version":3,"sources":["/home/manuel/bookflixdiseÃ±o/BookflixConDisenio/front-end/src/components/HomePerfiles.js"],"names":["React","Component","axios","ItemPerfil","Link","perfilesApi","miperfilApi","loginPerfilApi","ListarPerfiles","constructor","state","token","sessionStorage","getItem","perfiles","perfilesNombre","irAHomeDePerfil","event","preventDefault","console","log","post","id","JSON","stringify","this","headers","then","res","componentDidMount","get","data","map","info","push","nombre","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport ItemPerfil from './ItemPerfil';\nimport { Link } from 'react-router-dom';\n\n\n\n//Poner constante a la cual le hacemos la consulta de nuestros pefiles como suscriptor\nconst perfilesApi = 'http://localhost:4000/api/suscriptores/loginPerfiles'\nconst miperfilApi = 'http://localhost:4000/api/perfiles/me'\nconst loginPerfilApi = 'http://localhost:4000/api/suscriptores/loginPerfil'\n\nclass ListarPerfiles extends Component {\n    constructor() {\n        super();\n        this.state = {\n            token: sessionStorage.getItem('token'),\n            perfiles: [],\n            perfilesNombre: [],\n\n        }\n\n\n    }\n\n\n\n\n\n    async irAHomeDePerfil(event) {\n\n        event.preventDefault();\n        console.log(this.state.perfiles[0]);\n        await axios.post(loginPerfilApi,\n            { id: JSON.stringify.this.state.perfiles[0] },\n            {\n                headers: { 'xaccess': sessionStorage.getItem('token') }\n            })\n            .then(res => {\n                console.log(res)\n\n                //REDIRECT A HOME\n\n            });\n\n\n\n    }\n\n\n\n\n    async componentDidMount() {\n\n        await axios.get(perfilesApi,\n            { headers: { 'xaccess': sessionStorage.getItem('token') } }\n        )\n            .then(res => {\n                res.data.map(info => {\n                    { this.state.perfiles.push(info.id) }\n                    { this.state.perfilesNombre.push(info.nombre) }\n                })\n\n\n            });\n\n        console.log(this.state.perfiles[0])\n        console.log(this.state.perfilesNombre[0])\n        console.log(this.state.perfilesNombre)\n\n\n    }\n\n\n\n    render() {\n\n        return (\n\n            <div className=\"card col-md-6 offset-md-3 text-light bg-dark display-flex center\" >\n                <div className=\"container\">\n                    <div className=\"d-flex justify-content-center h-100\">\n                        <div className=\"cardIS\">\n                            <form onSubmit={this.irAHomeDePerfil}>\n                                <div className=\"card-header\">\n                                    <h3>Perfiles></h3>\n                                </div>\n                                <div className=\"card-body\">\n                                    <form>\n\n                                        <div className=\"form-group\">\n                                            <input type=\"submit\" value=\"Login\" className=\"btn float-right login_btn\"></input>\n                                        </div>\n                                    </form>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            \n                \n            \n        )\n    }\n\n}\n\n\n\nexport default ListarPerfiles;\n"]},"metadata":{},"sourceType":"module"}